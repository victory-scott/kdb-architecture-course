[Unit]
Description=KX Tickerplant (tp) â€” kxtpstack
Wants=network-online.target
After=network-online.target

[Service]
Type=simple
EnvironmentFile=-%h/.config/kxtpstack/common.env
# MemoryMax=2G
# CPUQuota=80%
LimitNOFILE=131072
ExecStart=/usr/bin/env bash -lc 'exec "${QBIN:-/opt/kx/q}" "${APP_DIR}/tick.q" -p "${TP_PORT:-5010}" ${QOPTS}'
Restart=on-failure
RestartSec=1
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=default.target